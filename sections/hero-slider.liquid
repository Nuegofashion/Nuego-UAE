{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}
<div
  id="shopify-section-template--{{ section.id }} section-{{ section.id }}-padding"
  class="shopify-section"
  bis_skin_checked="1"
>
  {{ 'home-top-slider-banner.css' | asset_url | stylesheet_tag }}

  <div class="home_top_slider_banner_main_div" bis_skin_checked="1">
    <div
      class="swiper homeTop-template--shopify-section-template--{{ section.id }} swiper-fade swiper-initialized swiper-horizontal swiper-watch-progress swiper-backface-hidden"
      bis_skin_checked="1"
    >
      <div
        class="swiper-wrapper"
        id="swiper-wrapper-6233ebc450742851"
        aria-live="off"
        bis_skin_checked="1"
        style="transition-duration: 0ms;"
      >
        {%- if section.blocks.size > 0 -%}
          {%- for block in section.blocks -%}
            <div
              class="swiper-slide home_top_slider_middle_img gtm-banner"
              data-gtm-title="Slider-{{ forloop.index }}"
              data-gtm-link="{{ block.settings.link }}"
              data-gtm-index="{{ forloop.index }}"
              data-gtm-section="hero-banner"
              onclick="BannerClickedGTM(this)"
              role="group"
              aria-label="{{ forloop.index }} / {{ section.blocks.size }}"

              bis_skin_checked="1"
            >
              <a href="{{ block.settings.link }}" class="no-underline" aria-label="">
                {% if block.settings.desk_img != blank %}
                  <img
                    src="{{ block.settings.desk_img | image_url: width: auto }}"
                    alt="main-desktop-banner"
                    srcset="{{ block.settings.desk_img | image_url: width: auto }}&amp;width=352 352w, {{ block.settings.desk_img | image_url: width: auto }}&amp;width=832 832w, {{ block.settings.desk_img | image_url: width: auto }}&amp;width=1200 1200w, {{ block.settings.desk_img | image_url: width: auto }}&amp;width=1600 1600w"
                    width="1600"
                    height="658"
                    loading="eager"
                    class="banner-image desktop"
                    fetchpriority="high"
                  >
                {% endif %}
                {% if block.settings.mobie_img != blank %}
                  <img
                    src="{{ block.settings.mobie_img | image_url: width: auto }}"
                    alt="main-desktop-banner"
                    srcset="{{ block.settings.mobie_img | image_url: width: auto }}&amp;width=352 352w, {{ block.settings.mobie_img | image_url: width: auto }}&amp;width=475 475w"
                    width="475"
                    height="891"
                    loading="eager"
                    class="banner-image mobile"
                    fetchpriority="high"
                  >
                {% endif %}
              </a>
              <div class="top-banner-slide-content " data-id="0" bis_skin_checked="1">
                <div class="home_top_sub-heading" bis_skin_checked="1"></div>
                <div class="home_top_heading" bis_skin_checked="1"></div>
                <div class="home_top_content" bis_skin_checked="1"></div>
              </div>
              <div
                class="home_top_slider_right_img"
                tabindex="0"
                role="button"
                aria-label="Next slide"
                aria-controls="swiper-wrapper-6233ebc450742851"
                aria-disabled="false"
                bis_skin_checked="1"
              >
                {% if block.settings.thumb_img != blank %}
                  <img
                    src="{{ block.settings.thumb_img | image_url: width: auto }}"
                    alt="Mens Outerwear Banner"
                    srcset="{{ block.settings.thumb_img | image_url: width: auto }}&amp;width=320 320w"
                    width="320"
                    height="380"
                    loading="eager"
                    class="overlay-Banner-Image"
                  >
                {% endif %}
              </div>
            </div>
          {%- endfor -%}
        {%- endif -%}
      </div>
      <div class="home-top-nav-arrows" bis_skin_checked="1">
        <div class="arrow-wrap" bis_skin_checked="1">
          <div
            class="swiper-prev-home"
            tabindex="0"
            role="button"
            aria-label="Previous slide"
            aria-controls="swiper-wrapper-6233ebc450742851"
            aria-disabled="false"
            bis_skin_checked="1"
          >
            <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g id="svg-prev">
                 <circle class="circle-border" id="Ellipse 74" opacity="0.6" cx="13" cy="13" r="12.5" transform="matrix(-1 0 0 1 26 0)"></circle>
                 <path class="arrow-path" id="Vector" d="M14.5284 8.2335C14.8642 7.91788 15.3979 7.92308 15.7283 8.24392C16.0577 8.56578 16.0631 9.08555 15.739 9.41264L12.0653 12.9896L15.7379 16.5666H15.739C15.9037 16.7218 15.9978 16.9354 16 17.1594C16.0021 17.3823 15.9112 17.5979 15.7497 17.7562C15.5871 17.9135 15.3658 18.002 15.1369 18C14.9069 17.9979 14.6877 17.9062 14.5283 17.7458L10.2503 13.5792C9.91657 13.2532 9.91657 12.7261 10.2503 12.4001L14.5284 8.2335Z"></path>
              </g>
            </svg>
          </div>
          <div
            class="autoplay-progress swiper-next-home"
            tabindex="0"
            role="button"
            aria-label="Next slide"
            aria-controls="swiper-wrapper-6233ebc450742851"
            aria-disabled="false"
            bis_skin_checked="1"
          >
            <svg
              width="26"
              height="26"
              viewBox="0 0 26 26"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              id="circle"
              style="--progress: 0.03359999999999996;"
            >
              <g id="svg-next">
                 <circle id="progress" opacity="1" cx="13" cy="13" r="12.5"></circle>
                 <circle class="circle-border" id="Ellipse 74" opacity="0.6" cx="13" cy="13" r="12.5" transform="matrix(-1 0 0 1 26 0)"></circle>
                 <path class="arrow-path" id="Vector" d="M11.4716 8.2335C11.1358 7.91788 10.6021 7.92308 10.2717 8.24392C9.94226 8.56578 9.9369 9.08555 10.261 9.41264L13.9347 12.9896L10.2621 16.5666H10.261C10.0963 16.7218 10.0022 16.9354 10 17.1594C9.9979 17.3823 10.0888 17.5979 10.2503 17.7562C10.4129 17.9135 10.6342 18.002 10.8631 18C11.0931 17.9979 11.3123 17.9062 11.4717 17.7458L15.7497 13.5792C16.0834 13.2532 16.0834 12.7261 15.7497 12.4001L11.4716 8.2335Z"></path>
              </g>
            </svg>
          </div>
        </div>
        <div class="swiper-pagination swiper-pagination-fraction swiper-pagination-horizontal" bis_skin_checked="1">
          <span class="swiper-pagination-current">0<span class="cslider_number">1</span></span> /
          <span class="swiper-pagination-total">0{{ section.blocks.size }}</span>
        </div>
      </div>
      <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>
    </div>
  </div>
  <script>
 function bannerSliderScript() {
    const progressCircletemplate21552949068075c2edb3f013bc482683e01515bec4cdb2 = document.querySelector('.autoplay-progress svg#circle');
    const bannerVideos = document.querySelectorAll('.home_top_slider_banner_main_div .slide-video')
    const playBtns = document.querySelectorAll('.home_top_slider_banner_main_div .top-banner-play-btn');

    const TopBannerSwipertemplate21552949068075c2edb3f013bc482683e01515bec4cdb2 = new Swiper('.homeTop-template--shopify-section-template--{{ section.id }}', {
        loop: true, // Fixed the typo here
        effect: "fade",
        pagination: {
          el: 'homeTop-template--shopify-section-template--{{ section.id }} .swiper-pagination',
          type: 'fraction',
          formatFractionCurrent: function (number) {
            return '0' + number;
          },
          formatFractionTotal: function (number) {
            if (number <= 9) {
              return '0' + number
            } else {
              return number;
            }
          },
        },
        autoplay: {
          delay: 2500,
          disableOnInteraction: false,
        },
        navigation: {
          nextEl: '.homeTop-template--shopify-section-template--{{ section.id }} .swiper-next-home, .homeTop-template--shopify-section-template--{{ section.id }} .home_top_slider_right_img',
          prevEl: '.homeTop-template--shopify-section-template--{{ section.id }} .swiper-prev-home',
        },
        on: {
          autoplayTimeLeft(s, time, progress) {
            progressCircletemplate21552949068075c2edb3f013bc482683e01515bec4cdb2.style.setProperty('--progress', 1 - progress);
          },
        },
    });

    TopBannerSwipertemplate21552949068075c2edb3f013bc482683e01515bec4cdb2.on('activeIndexChange', (swiper) => {
        if (!swiper.autoplay.running) {
          bannerVideos.forEach(video => {
            video.pause();
          });
          playBtns.forEach(playButton => {
            playButton.style.display = 'block';
          });
        }
        swiper.autoplay.start();
        if (document.querySelectorAll('.top-banner-slide-content')[swiper.activeIndex].classList.contains("dark")) {
            document.querySelector('.home-top-nav-arrows')?.classList.add('dark');
        } else {
            document.querySelector('.home-top-nav-arrows')?.classList.remove('dark');
        }
        document.querySelector(".cslider_number").innerHTML = swiper.realIndex + 1;
    });

    function toggleBannerVideo(bannerVideo, playBtn) {
        if (bannerVideo.paused) {
          bannerVideo.play();
          TopBannerSwipertemplate21552949068075c2edb3f013bc482683e01515bec4cdb2.autoplay.stop();
          playBtn.style.display = 'none';
        } else {
          bannerVideo.pause();
          TopBannerSwipertemplate21552949068075c2edb3f013bc482683e01515bec4cdb2.autoplay.start();
          playBtn.style.display = 'block';
        }
    }

    bannerVideos.forEach((bannerVideo, index) => {
        let playBtn = playBtns[index];
        playBtn.addEventListener('click', function () {
          toggleBannerVideo(bannerVideo, playBtn);
        });
        bannerVideo.addEventListener('click', function () {
          toggleBannerVideo(bannerVideo, playBtn);
        });
    });
}

if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", bannerSliderScript, {once: true});
} else {
    bannerSliderScript();
}

  </script>
</div>

{% schema %}
{
  "name": "Hero Slider",
  "max_blocks": 4,
  "settings": [
  {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 36
    }
  ],
  "blocks": [
    {
      "type": "quote",
      "name": "Slider",
      "settings": [
        {
         "type":      "image_picker",
         "id":        "desk_img",
         "label":     "Desktop Image"
        },
        {
         "type":      "image_picker",
         "id":        "mobie_img",
         "label":     "Mobile Image"
        },
        {
         "type":      "image_picker",
         "id":        "thumb_img",
         "label":     "Thumb Image"
        },
        {
         "type":      "url",
         "id":        "link",
         "label":     "Banner Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Hero Slider"
    }
  ]
}
{% endschema %}
