{% comment %}
  Renders share button.
  Accepts:
  - block: {Object} passes in the block information.
  - share_link: {String} url to be added to the input the user will get/copy.

  Usage:
  {% render 'share-button',
    block: block,
    share_link: share_url
  %}
{% endcomment %}
<script src="{{ 'share.js' | asset_url }}" defer="defer"></script>

<share-button id="Share-{{ section.id }}" class="share-button quick-add-hidden" {{ block.shopify_attributes }}>
  <button class="share-button__button hidden">
    {% comment %}{% render 'icon-share' %}
    {{ block.settings.share_label | escape }}{% endcomment %}
    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
<path d="M6.25 10.375L11.75 13.125M11.75 4.875L6.25 7.625M14.5 17.25C12.9812 17.25 11.75 16.0188 11.75 14.5C11.75 12.9812 12.9812 11.75 14.5 11.75C16.0188 11.75 17.25 12.9812 17.25 14.5C17.25 16.0188 16.0188 17.25 14.5 17.25ZM3.5 11.75C1.98122 11.75 0.75 10.5188 0.75 9C0.75 7.48122 1.98122 6.25 3.5 6.25C5.01878 6.25 6.25 7.48122 6.25 9C6.25 10.5188 5.01878 11.75 3.5 11.75ZM14.5 6.25C12.9812 6.25 11.75 5.01878 11.75 3.5C11.75 1.98122 12.9812 0.75 14.5 0.75C16.0188 0.75 17.25 1.98122 17.25 3.5C17.25 5.01878 16.0188 6.25 14.5 6.25Z" stroke="#221F20" stroke-opacity="0.75" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>
  </button>
  <details id="Details-{{ block.id }}-{{ section.id }}">
    <summary class="share-button__button">
      {% render 'icon-share' %}
      {{ block.settings.share_label | escape }}
    </summary>
    <div class="share-button__fallback motion-reduce">
      <div class="field">
        <span id="ShareMessage-{{ section.id }}" class="share-button__message hidden" role="status"> </span>
        <input
          type="text"
          class="field__input"
          id="ShareUrl-{{ section.id }}"
          value="{{ share_link }}"
          placeholder="{{ 'general.share.share_url' | t }}"
          onclick="this.select();"
          readonly
        >
        <label class="field__label" for="ShareUrl-{{ section.id }}">{{ 'general.share.share_url' | t }}</label>
      </div>
      <button class="share-button__close hidden">
        {% render 'icon-close' %}
        <span class="visually-hidden">{{ 'general.share.close' | t }}</span>
      </button>
      <button class="share-button__copy">
        {% render 'icon-clipboard' %}
        <span class="visually-hidden">{{ 'general.share.copy_to_clipboard' | t }}</span>
      </button>
    </div>
  </details>
</share-button>
